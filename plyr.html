<link rel="icon" href="drive-logo.png">
<style>
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

.plyr  {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

/* Skip feedback animation */
.skip-feedback {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 10px 20px;
  border-radius: 25px;
  font-size: 18px;
  font-weight: bold;
  z-index: 1000;
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.skip-feedback.show {
  opacity: 1;
}

/* Progress bar positioned at bottom like YouTube */
.plyr__controls {
  padding-top: 6px !important;
}

.plyr__progress {
  margin-top: 6px !important;
  height: 4px !important;
  background: rgba(255, 255, 255, 0.3) !important;
  border-radius: 2px !important;
}

.plyr__progress input[type=range] {
  height: 4px !important;
}

/* Buffer and played */
.plyr__progress .plyr__progress__buffer {
  background: rgba(255, 255, 255, 0.4) !important;
}

.plyr__progress .plyr__progress__played {
  background: var(--plyr-color-main) !important;
}

/* Custom large pause button */
.custom-large-button {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 80px;
  height: 80px;
  background: rgba(0, 0, 0, 0.8);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 999;
  transition: all 0.3s ease;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.custom-large-button.show {
  opacity: 1;
  visibility: visible;
  pointer-events: all;
}

.custom-large-button:hover {
  background: rgba(0, 0, 0, 0.9);
  transform: translate(-50%, -50%) scale(1.1);
}

.custom-large-button svg {
  width: 32px;
  height: 32px;
  fill: white;
}

/* Completely disable double click */
* {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
</style>
<title>DrivePlyr - Google Drive Proxy Video Player with Many Powerful HTML5 Players</title>

<!-- Meta Tags for SEO -->
<meta name="description" content="DrivePlyr is a Google Drive Proxy Video Player with Many Powerful HTML5 Players, Hidden ID, and Many Features. Play your videos from Google Drive with ease.">
<meta name="keywords" content="DrivePlyr, Google Drive, Proxy, Video Player, HTML5 Player, Hidden ID, Features">
<meta name="author" content="Rabbi123">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://rabbi0197273.github.io/Rabbi123/">
<meta property="og:title" content="DrivePlyr - Google Drive Proxy Video Player with Many Powerful HTML5 Players">
<meta property="og:description" content="DrivePlyr is a Google Drive Proxy Video Player with Many Powerful HTML5 Players, Hidden ID, and Many Features. Play your videos from Google Drive with ease.">
<meta property="og:image" content="https://sh20raj.github.io/DrivePlyr/drive-logo.png">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://rabbi0197273.github.io/Rabbi123/">
<meta property="twitter:title" content="DrivePlyr - Google Drive Proxy Video Player with Many Powerful HTML5 Players">
<meta property="twitter:description" content="DrivePlyr is a Google Drive Proxy Video Player with Many Powerful HTML5 Players, Hidden ID, and Many Features. Play your videos from Google Drive with ease.">
<meta property="twitter:image" content="https://sh20raj.github.io/DrivePlyr/drive-logo.png">

<!-- Other Meta Tags -->
<link rel="icon" href="https://raw.githubusercontent.com/SH20RAJ/DrivePlyr/main/drive-logo.png">
<meta name="theme-color" content="#ffffff">
<meta name="robots" content="index, follow">

<!-- Docs styles -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/CDNSFree2/Plyr/plyr.css" />

<!--Add a Simple HTML5 Video tag-->
<div id="container">
  <video controls poster="https://bit.ly/bbsampleposter" id="vid1">
    <source src="https://rebrand.ly/sample-video" type="video/mp4" size="576" />
  </video>
  <div id="custom-large-button" class="custom-large-button">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
    </svg>
  </div>
  <div id="skip-feedback" class="skip-feedback"></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/plyr/3.6.7/plyr.min.js"></script>
<script>
var controls = [
  'play-large',
  'rewind',
  'play',
  'fast-forward',
  'progress',
  'current-time',
  'duration',
  'mute',
  'volume',
  'captions',
  'settings',
  'pip',
  'airplay',
  'fullscreen'
];

const player = new Plyr('#vid1', {
  controls,
  seekTime: 10
});

const customButton = document.getElementById('custom-large-button');
let hideTimeout;

document.addEventListener('DOMContentLoaded', function() {
  document.addEventListener('dblclick', function(e) {
    if (e.target.closest('[data-plyr="fullscreen"]') || e.target.closest('.plyr__control--fullscreen')) return true;
    e.preventDefault();
    e.stopImmediatePropagation();
    return false;
  }, true);
});

player.on('ready', function() {
  const video = document.querySelector('#vid1');
  const container = document.querySelector('#container');
  const wrapper = document.querySelector('.plyr');

  [video, container, wrapper].forEach(element => {
    if (element) {
      element.addEventListener('dblclick', function(e) {
        if (e.target.closest('[data-plyr="fullscreen"]') || e.target.closest('.plyr__control--fullscreen')) return true;
        e.preventDefault();
        e.stopImmediatePropagation();
        return false;
      }, { capture: true, passive: false });
    }
  });

  video.addEventListener('click', function() {
    if (player.playing) showCustomButton();
  });

  container.addEventListener('click', function(e) {
    if (e.target.closest('.plyr__controls') || e.target.closest('.plyr__progress') || e.target === customButton) return;
    if (player.playing) showCustomButton();
  });
});

customButton.addEventListener('click', function(e) {
  e.preventDefault();
  e.stopPropagation();
  player.pause();
  hideCustomButton();
});

function showCustomButton() {
  customButton.classList.add('show');
  if (hideTimeout) clearTimeout(hideTimeout);
  hideTimeout = setTimeout(hideCustomButton, 2000);
}

function hideCustomButton() {
  customButton.classList.remove('show');
  if (hideTimeout) clearTimeout(hideTimeout);
}

player.on('pause', hideCustomButton);
player.on('ended', hideCustomButton);

function showSkipFeedback(seconds) {
  const feedback = document.getElementById('skip-feedback');
  feedback.textContent = seconds > 0 ? `+${seconds}s` : `${seconds}s`;
  feedback.classList.add('show');
  setTimeout(() => feedback.classList.remove('show'), 1000);
}

document.addEventListener('keydown', function(event) {
  if (['INPUT', 'TEXTAREA'].includes(document.activeElement.tagName)) return;

  switch(event.key) {
    case 'ArrowLeft':
      event.preventDefault();
      player.rewind(10);
      showSkipFeedback(-10);
      break;
    case 'ArrowRight':
      event.preventDefault();
      player.forward(10);
      showSkipFeedback(10);
      break;
    case ' ':
      event.preventDefault();
      player.playing ? player.pause() : player.play();
      break;
  }
});

player.on('rewind', () => showSkipFeedback(-10));
player.on('fastforward', () => showSkipFeedback(10));

player.on('enterfullscreen', function () {
  if (screen.orientation?.lock) {
    screen.orientation.lock('landscape').catch(error => console.warn('Orientation lock failed:', error));
  }
});

player.on('exitfullscreen', function () {
  if (screen.orientation?.unlock) screen.orientation.unlock();
});
</script>

<style>
:root {
  --plyr-color-main: #e657ff;
  --plyr-video-control-color: #e8ffba;
}
</style>

<script>
var apikey = ['AIzaSyCt3DULzE2trDJhfFUosWZT-3GEObbMqVU', 'AIzaSyCsbx8BSyLwkw6XX6Lg5OF1U0HNtI9VmCY', 'AIzaSyBLMJAT6oqTZxAMsCjXzoo4lkJL4MmfM', 'AIzaSyCIY6fomcJxOt0XQ_naa1rzfd5wlOMGKDY'][Math.floor(Math.random() * 4)];
console.log(apikey);
function getparam(a, e) {
  return e || (e = window.location.href), new URL(e).searchParams.get(a);
}

let video = document.getElementById('vid1');
if (getparam('id')) {
  let json = JSON.parse(atob(getparam('id')));
  let driveid = json.id;
  video.src = `https://www.googleapis.com/drive/v3/files/${driveid}?alt=media&key=${apikey}`;
  video.poster = 'https://lh3.googleusercontent.com/d/' + driveid;
}
</script>
